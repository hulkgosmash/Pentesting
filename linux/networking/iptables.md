# IPTables

{% code overflow="wrap" %}
```bash
# List The default ACL
sudo iptables -L
# Set the FORWARD chain's default policy is set to DROP
sudo iptables -P FORWARD DROP
# A firewall rule for incoming traffic to the host from the network 192.168.1.0/24 for all protocols is added
sudo iptables -s 192.168.1.0/24 -p all -A INPUT
sudo iptables -L
# The addtional rules are added to the INPUT chain
sudo iptables -s 127.0.0.1 -d 127.0.0.1 -A INPUT
sudo iptables -s 192.168.1.37 -p tcp -A INPUT
sudo iptables -L
# The new rule with the name localhost has two new entries (Due to ipv4 & ipv6)
sudo iptables -s localhost -A INPUT
sudo iptables -L
# Delete the duplicate localhost rules
sudo iptables -s localhost -D INPUT
sudo iptables -L
# The chain rule line numbers are shown in the output
sudo iptables -s localhost -A INPUT
sudo iptables -L --line-numbers
# Only one of the rule-specifications was deleted, since the line was used
sudo iptables -D INPUT 5
sudo iptables -L --line-numbers
# The rule-specification for 192.168.1.37 is now before the network rule-specification of 192.168.1.0/24
sudo iptables -s 192.168.1.37 -I INPUT 1
sudo iptables -L --line-numbers
# The firewall rule was removed from line 4
sudo iptables -D INPUT 4
sudo iptables -L --line-numbers
# The packet count and bytes on each rule-specification line is shown
sudo iptables -nvL
# Save the iptables rules
sudo iptables-save
```
{% endcode %}
