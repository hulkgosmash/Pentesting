# Certificates

## Conversion

<table><thead><tr><th width="262">Info</th><th>Command</th></tr></thead><tbody><tr><td>Export private key from PFX</td><td><code>openssl pkcs12 -in legacyy_dev_auth.pfx -nocerts -out priv.pem -nodes</code></td></tr><tr><td>Export certificate from PFX</td><td><code>openssl pkcs12 -in legacyy_dev_auth.pfx -clcerts -nokeys -out cert.crt</code></td></tr><tr><td>Export public key</td><td><code>gpg --export "$key" | openpgp2ssh "$key" > ~/.ssh/id_rsa.pub</code></td></tr><tr><td>Export private key</td><td><code>gpg --export-secret-key "$key" | openpgp2ssh "$key" > ~/.ssh/id_rsa</code></td></tr><tr><td>Then, we change the password for the SSH secret key</td><td><code>ssh-keygen -f ~/.ssh/id_rsa -p</code></td></tr><tr><td>Deletion is required or for some reason it fails to reimport as encrypted</td><td><code>gpg --delete-secret-key "$key"</code></td></tr><tr><td>Now reimport the original key</td><td><code>gpg --import &#x3C; id_rsa.bak</code></td></tr><tr><td>Remove the backup</td><td><code>rm id_rsa.bak</code></td></tr></tbody></table>

## Remove Password

| Comment                                                    | Command                                       |
| ---------------------------------------------------------- | --------------------------------------------- |
| Back up the original key so you can reimport it afterwards | `gpg --export-secret-key "$key" > id_rsa.bak` |
| Now remove the encryption                                  | `gpg --edit-key "$key"`                       |
| Issue passwd and remove the password                       |                                               |
| Quit, and save changes                                     |                                               |
